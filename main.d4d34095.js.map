{"version":3,"sources":["scripts/main.js"],"names":["body","document","querySelector","tabHead","tabBody","rows","clickCount","convertToNumber","elem","split","join","pushNotification","title","description","type","div","createElement","classList","add","setAttribute","insertAdjacentHTML","append","setTimeout","remove","addEventListener","ev","targeted","target","closest","cellIndex","sorted","sort","a","b","first","cells","textContent","second","isNaN","localeCompare","form","preventDefault","data","FormData","arrData","get","tr","length","i","td","parseInt","toLocaleString","reset","originalText","input","className","name","focus","textInput","e","code","value","e2"],"mappings":"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","file":"main.d4d34095.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst body = document.querySelector('body');\nconst tabHead = document.querySelector('thead');\nconst tabBody = document.querySelector('tbody');\n\nconst rows = tabBody.rows;\n\nlet clickCount = null;\n\nfunction convertToNumber(elem) {\n  return elem.split('$').join('').split(',').join('');\n}\n\nfunction pushNotification(title, description, type) {\n  const div = document.createElement('div');\n\n  div.classList.add('notification', type);\n  div.setAttribute('data-qa', 'notification');\n\n  div.insertAdjacentHTML('afterbegin', `\n    <h1 class=\"title\">${title}</h1>\n    <p>${description}</p>\n  `);\n\n  body.append(div);\n\n  setTimeout(() => {\n    div.remove();\n  }, 3000);\n}\n\ntabHead.addEventListener('click', ev => {\n  const targeted = ev.target.closest('th');\n\n  clickCount++;\n\n  const cellIndex = targeted.cellIndex;\n\n  const sorted = [...rows].sort((a, b) => {\n    const first = convertToNumber(a.cells[cellIndex].textContent);\n    const second = convertToNumber(b.cells[cellIndex].textContent);\n\n    if (clickCount === 1) {\n      if (isNaN(first)) {\n        return first.localeCompare(second);\n      } else {\n        return first - second;\n      }\n    } else if (clickCount === 2) {\n      if (isNaN(second)) {\n        return second.localeCompare(first);\n      } else {\n        return second - first;\n      }\n    }\n\n    clickCount = 1;\n  });\n\n  tabBody.append(...sorted);\n});\n\ntabBody.addEventListener('click', ev => {\n  const targeted = ev.target.closest('tr');\n\n  for (const row of rows) {\n    row.classList.remove('active');\n  }\n\n  targeted.classList.add('active');\n});\n\nbody.insertAdjacentHTML('beforeend', `\n  <form class=\"new-employee-form\">\n    <label>Name:\n      <input\n        name=\"name\"\n        type=\"text\"\n        data-qa=\"name\"\n      >\n    </label>\n    <label>Position:\n      <input\n        name=\"position\"\n        type=\"text\"\n        data-qa=\"position\"\n      >\n    </label>\n    <label>Office:\n      <select name=\"office\" data-qa=\"office\">\n        <option value=\"Tokyo\">Tokyo</option>\n        <option value=\"Singapore\">Singapore</option>\n        <option value=\"London\">London</option>\n        <option value=\"New York\">New York</option>\n        <option value=\"Edinburgh\">Edinburgh</option>\n        <option value=\"San Francisco\">San Francisco</option>\n      </select>\n    </label>\n    <label>Age:\n      <input\n        name=\"age\"\n        type=\"number\"\n        data-qa=\"age\"\n      >\n    </label>\n    <label>Salary:\n      <input\n        name=\"salary\"\n        type=\"number\"\n        data-qa=\"salary\"\n      >\n    </label>\n    <button>Save to table</buttom>\n  </form>\n`);\n\nconst form = document.querySelector('form');\n\nform.addEventListener('submit', ev => {\n  ev.preventDefault();\n\n  const data = new FormData(form);\n\n  const arrData = [\n    data.get('name'),\n    data.get('position'),\n    data.get('office'),\n    data.get('age'),\n    data.get('salary'),\n  ];\n\n  const tr = document.createElement('tr');\n\n  if (data.get('name').length === 0\n    || data.get('position').length === 0\n    || data.get('office').length === 0\n    || data.get('age') === 0\n    || data.get('salary') === 0) {\n    pushNotification('Error', 'No data filled', 'error');\n  } else if (data.get('name').length < 4) {\n    pushNotification('Error', 'Invalid name', 'error');\n  } else if (+data.get('age') < 18 || +data.get('age') > 90) {\n    pushNotification('Error',\n      'Invalid age. Min 18 and max 90',\n      'error'\n    );\n  } else {\n    for (let i = 0; i < arrData.length; i++) {\n      const td = document.createElement('td');\n\n      if (i !== arrData.length - 1) {\n        td.textContent = arrData[i];\n      }\n\n      if (i === arrData.length - 1) {\n        td.textContent = `$${parseInt(arrData[i]).toLocaleString('en-US')}`;\n      }\n\n      tr.append(td);\n\n      pushNotification('Success', 'Successfully added', 'success');\n      form.reset();\n    }\n  }\n\n  tabBody.append(tr);\n});\n\ntabBody.addEventListener('dblclick', ev => {\n  const targeted = ev.target;\n\n  const originalText = targeted.textContent;\n\n  const input = document.createElement('input');\n\n  input.className = 'cell-input';\n  input.name = 'text';\n  input.type = 'text';\n\n  targeted.textContent = '';\n\n  targeted.append(input);\n  input.focus();\n\n  const textInput = document.querySelector('.cell-input');\n\n  input.addEventListener('keydown', e => {\n    if (e.code === 'Enter') {\n      if (textInput.value.length === 0) {\n        targeted.textContent = originalText;\n      }\n\n      if (targeted.cellIndex === 0) {\n        if (textInput.value.length < 4) {\n          targeted.textContent = originalText;\n\n          pushNotification('Error', 'Invalid Name', 'error');\n        } else {\n          targeted.textContent = textInput.value;\n\n          pushNotification('Success', 'Successfully changed', 'success');\n        }\n      } else if (targeted.cellIndex === 3) {\n        if (+textInput.value < 18 || +textInput.value > 90) {\n          targeted.textContent = originalText;\n\n          pushNotification('Error', 'Invalid Age', 'error');\n        } else {\n          targeted.textContent = textInput.value;\n\n          pushNotification('Success', 'Successfully changed', 'success');\n        }\n      } else if (targeted.cellIndex === 4) {\n        if (isNaN(textInput.value)) {\n          targeted.textContent = originalText;\n\n          pushNotification('Error', 'Not a number', 'error');\n        } else {\n          targeted.textContent = `\n            $${parseInt(textInput.value).toLocaleString('en-US')}\n          `;\n\n          pushNotification('Success', 'Successfully changed', 'success');\n        }\n      }\n    }\n  });\n\n  input.addEventListener('blur', e2 => {\n    if (textInput.value.length === 0) {\n      targeted.textContent = originalText;\n    }\n\n    if (targeted.cellIndex === 0) {\n      if (textInput.value.length < 4) {\n        targeted.textContent = originalText;\n\n        pushNotification('Error', 'Invalid Name', 'error');\n      } else {\n        targeted.textContent = textInput.value;\n\n        pushNotification('Success', 'Successfully changed', 'success');\n      }\n    } else if (targeted.cellIndex === 3) {\n      if (+textInput.value < 18 || +textInput.value > 90) {\n        targeted.textContent = originalText;\n\n        pushNotification('Error', 'Invalid Age', 'error');\n      } else {\n        targeted.textContent = textInput.value;\n\n        pushNotification('Success', 'Successfully changed', 'success');\n      }\n    } else if (targeted.cellIndex === 4) {\n      if (isNaN(textInput.value)) {\n        targeted.textContent = originalText;\n\n        pushNotification('Error', 'Not a number', 'error');\n      } else {\n        targeted.textContent = `\n          $${parseInt(textInput.value).toLocaleString('en-US')}\n        `;\n\n        pushNotification('Success', 'Successfully changed', 'success');\n      }\n    }\n  });\n});\n"]}